int a[10];
int i, b, c;
/* a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] */

i = 0;
while(i < 10) {
    a[i] = i + 1;
    i = i + 1;
}

b = 1;
write(pick(a, b)); /* 1 */
write(b); /* 0 */

b = 16; // 0b10000 -> 5th bit, 4th position
write(pick(a, b)); /* 5 */
write(b); /* 0 */

b = 32; // 0b100000 -> 6th bit, 5th position
write(pick(a, b)); /* 6 */
write(b); /* 0 */

b = 24; // 0b11000 -> MSB 5th bit, 4th position
        //            LSB 4th bit, 3th position
write(pick(a, b)); /* 4 */
write(b); /* 16 */

b = 48; // 0b110000 -> 5th bit, 4th position
write(pick(a, b)); /* 5 */
write(b); /* 32 */

b = 123456; // 0b11110001001000000
c = pick(a, b) * 1024;
write(c); /* 7168 */
write(b); /* 123392 */

b = 7168;
write(pick(a, b)); /* 0b1110000000000 -> 10 out of bounds, write 0 */
write(b); /* 6144 */

b = 0;
write(pick(a, b)); /* 0 */
write(b); /* 0 */
